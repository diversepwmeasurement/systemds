jobs:
  doc1:
    name: Java
    runs-on: self-hosted
    steps:
    - continue-on-error: true
      name: Checkout Repository
      uses: actions/checkout@v4
    - continue-on-error: true
      name: Setup Java ${{ matrix.java }} ${{ matrix.javadist }}
      uses: actions/setup-java@v4
      with:
        cache: maven
        distribution: ${{ matrix.javadist }}
        java-version: ${{ matrix.java }}
    - continue-on-error: true
      name: Make Documentation SystemDS Java
      run: mvn -ntp -P distribution package
    strategy:
      fail-fast: false
      matrix:
        java:
        - '11'
        javadist:
        - adopt
        os:
        - ubuntu-latest
  doc2:
    name: Python
    runs-on: self-hosted
    steps:
    - continue-on-error: true
      name: Checkout Repository
      uses: actions/checkout@v4
    - continue-on-error: true
      name: Setup Python
      uses: actions/setup-python@v5
      with:
        architecture: x64
        python-version: 3.7
    - continue-on-error: true
      name: Cache Pip Dependencies
      uses: actions/cache@v4
      with:
        key: ${{ runner.os }}-pip-docs-${{ hashFiles('src/main/python/docs/requires-docs.txt')
          }}
        path: ~/.cache/pip
        restore-keys: '${{ runner.os }}-pip-docs-

          '
    - continue-on-error: true
      name: Install Dependencies
      run: 'cd src/main/python/docs

        python3 -m pip install -r requires-docs.txt

        '
    - continue-on-error: true
      name: Make Documentation SystemDS-Python
      run: 'cd src/main/python/docs

        make html

        '
name: Documentation
on:
  repository_dispatch:
    types: trigger-ga___documentation.yml
